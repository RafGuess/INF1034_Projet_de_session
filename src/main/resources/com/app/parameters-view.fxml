<?xml version="1.0" encoding="UTF-8"?>

<!-- Importation des composants nÃ©cessaires -->
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.control.Separator?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.ColorPicker?>

<!-- Conteneur principal vertical -->
<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.app.controllers.ParameterController"
      stylesheets="@styles/parameter.css">

    <!-- Barre de navigation (vue incluse) -->
    <fx:include source="menu-bar-view.fxml"/>


    <!-- Zone principale avec espacement -->
    <VBox styleClass="main-content">
        <padding>
            <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
        </padding>

        <!-- Section profil utilisateur -->
        <HBox styleClass="section">
            <!-- IcÃ´ne utilisateur -->
            <Label text="ðŸ‘¤" styleClass="icon-label"/>

            <!-- Formulaire profil -->
            <VBox spacing="10" HBox.hgrow="ALWAYS">
                <!-- Modification du nom -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Modifier nom :" minWidth="120"/>
                    <TextField fx:id="nameField" HBox.hgrow="ALWAYS"/>
                    <Button fx:id="validateNameButton" text="Valider" onAction="#updateName"
                            styleClass="validate-button"/>
                </HBox>

                <!-- Modification du mot de passe -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Changer le mot de passe :" minWidth="120"/>
                    <PasswordField fx:id="passwordField" HBox.hgrow="ALWAYS"/>
                    <Button fx:id="validatePasswordButton" text="Valider" onAction="#updatePassword"
                            styleClass="validate-button"/>
                </HBox>
            </VBox>
        </HBox>

        <!-- Section configuration de notifications de pause -->
        <HBox styleClass="section" spacing="15">
            <!-- Titre et icÃ´ne de la section -->
            <VBox alignment="TOP_CENTER" styleClass="section-title" minWidth="150">
                <Label text="Configuration de" textAlignment="CENTER"/>
                <Label text="notifications de pause :" textAlignment="CENTER"/>
                <Label text="ðŸ””" styleClass="icon-label"/>
            </VBox>

            <!-- Configuration des notifications -->
            <VBox spacing="10" minWidth="250">
                <!-- SÃ©lection d'Ã©tiquette -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Ã‰tiquette :" minWidth="120"/>
                    <ComboBox fx:id="labelComboBox" styleClass="combo-box" onAction="#onPeriodTypeSelected"
                              HBox.hgrow="ALWAYS" maxWidth="Infinity"/>
                </HBox>

                <!-- FrÃ©quence de pause -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="FrÃ©quence de pause :" minWidth="120"/>
                    <ComboBox fx:id="frequencyComboBox" styleClass="combo-box"
                              HBox.hgrow="ALWAYS" maxWidth="Infinity"/>

                </HBox>

                <!-- DurÃ©e de pause -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="DurÃ©e de la pause :" minWidth="120"/>
                    <ComboBox fx:id="durationComboBox" styleClass="combo-box"
                              HBox.hgrow="ALWAYS" maxWidth="Infinity"
                    />

                </HBox>

                <!-- Ajout du bouton de confirmation -->
                <HBox alignment="CENTER_RIGHT" spacing="10">
                    <Button fx:id="confirmConfigButton" text="Confirmer" onAction="#saveNotificationConfig"
                            styleClass="validate-button"/>
                </HBox>
            </VBox>

            <!-- SÃ©parateur vertical -->
            <Separator orientation="VERTICAL"/>

            <!-- CrÃ©ation d'Ã©tiquette -->
            <VBox spacing="10" HBox.hgrow="ALWAYS" minWidth="200">
                <Label text="CrÃ©ation d'Ã©tiquette :" styleClass="section-subtitle"/>
                <TextField fx:id="labelTextField" promptText="Texte"/>
                <HBox spacing="10">
                    <Label text="Couleur :" minWidth="60"/>
                    <ColorPicker fx:id="colorPicker" HBox.hgrow="ALWAYS"/>

                </HBox>
                <Button fx:id="createLabelButton" text="CrÃ©er" onAction="#createLabel" styleClass="create-button"/>
            </VBox>

            <!-- Suppression d'Ã©tiquette -->
            <VBox spacing="10">
                <Label text="Suppression d'Ã©tiquette :" styleClass="section-subtitle"/>
                <ComboBox fx:id="deleteLabelComboBox" promptText="Ã‰tiquette"
                          styleClass="combo-box" HBox.hgrow="ALWAYS" maxWidth="Infinity"/>
                <Button fx:id="deleteLabelButton" text="Suppression" onAction="#deleteLabel"
                        styleClass="delete-button"/>
            </VBox>
        </HBox>


        <!-- Section apparence et actions gÃ©nÃ©rales -->
        <HBox styleClass="section">
            <!-- Choix du thÃ¨me -->
            <HBox spacing="10" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                <Label text="Apparence" styleClass="section-subtitle"/>
                <Label text="Light" styleClass="theme-label"/>
                <ToggleButton fx:id="themeToggle" onAction="#toggleTheme" styleClass="theme-toggle"/>
                <Label text="Dark" styleClass="theme-label"/>
            </HBox>

            <!-- Boutons de dÃ©connexion et suppression -->
            <HBox spacing="10" alignment="CENTER_RIGHT">
                <Button fx:id="logoutButton" text="DÃ©connexion" onAction="#logout" styleClass="logout-button"/>
                <Button fx:id="deleteAccountButton" text="Supprimer le compte" onAction="#deleteAccount"
                        styleClass="delete-account-button"/>
            </HBox>
        </HBox>
    </VBox>
</VBox>

